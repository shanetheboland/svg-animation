!function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function n(e,t){var n=i(e,t)?r:o;n(e,t)}var i,o,r;"classList"in document.documentElement?(i=function(e,t){return e.classList.contains(t)},o=function(e,t){e.classList.add(t)},r=function(e,t){e.classList.remove(t)}):(i=function(e,n){return t(n).test(e.className)},o=function(e,t){i(e,t)||(e.className=e.className+" "+t)},r=function(e,n){e.className=e.className.replace(t(n)," ")});var a={hasClass:i,addClass:o,removeClass:r,toggleClass:n,has:i,add:o,remove:r,toggle:n};"function"==typeof define&&define.amd?define(a):e.classie=a}(window),function(){"use strict";function e(e){this.el=e,this.image=this.el.previousElementSibling,this.current_frame=0,this.total_frames=88,this.path=new Array,this.length=new Array,this.handle=0,this.init()}function t(){var e=a.clientHeight,t=window.innerHeight;return t>e?t:e}function n(){return window.pageYOffset||a.scrollTop}function i(e){var t=0,n=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:n}}function o(e,o){var r=e.offsetHeight,a=n(),s=a+t(),c=i(e).top,l=c+r,o=o||0;return s>=c+r*o&&l>=a}function r(){var t,n=Array.prototype.slice.call(document.querySelectorAll("#main svg")),i=new Array,r=!1;n.forEach(function(t,n){var r=new e(t);i[n]=r,setTimeout(function(e){return function(){o(e.parentNode)&&r.render()}}(t),250)});var a=function(){r||(r=!0,setTimeout(function(){s()},60))},s=function(){n.forEach(function(e,t){o(e.parentNode,.5)&&i[t].render()}),r=!1},c=function(){function e(){s(),t=null}t&&clearTimeout(t),t=setTimeout(e,200)};window.addEventListener("scroll",a,!1),window.addEventListener("resize",c,!1)}var a=window.document.documentElement;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){window.clearTimeout(e)}}(),e.prototype.init=function(){var e=this;[].slice.call(this.el.querySelectorAll("path")).forEach(function(t,n){e.path[n]=t;var i=e.path[n].getTotalLength();e.length[n]=i,e.path[n].style.strokeDasharray=i+" "+i,e.path[n].style.strokeDashoffset=i})},e.prototype.render=function(){this.rendered||(this.rendered=!0,this.draw())},e.prototype.draw=function(){var e=this,t=this.current_frame/this.total_frames;if(t>1)window.cancelAnimFrame(this.handle),this.showImage();else{this.current_frame++;for(var n=0,i=this.path.length;i>n;n++)this.path[n].style.strokeDashoffset=Math.floor(this.length[n]*(1-t));this.handle=window.requestAnimFrame(function(){e.draw()})}},e.prototype.showImage=function(){classie.add(this.image,"show"),classie.add(this.el,"hide")},r()}();var refresh_link=document.getElementById("js-refresh-link");refresh_link.onclick=function(){"Do It Again"==refresh_link.innerHTML?refresh_link.innerHTML="One More Time":refresh_link.innerHTML="Do It Again";var e=document.getElementById("js-illustration"),t=document.getElementById("js-line-drawing");e.classList.remove("show"),t.classList.remove("hide"),function(){"use strict";function e(e){this.el=e,this.image=this.el.previousElementSibling,this.current_frame=0,this.total_frames=88,this.path=new Array,this.length=new Array,this.handle=0,this.init()}function t(){var e=a.clientHeight,t=window.innerHeight;return t>e?t:e}function n(){return window.pageYOffset||a.scrollTop}function i(e){var t=0,n=0;do isNaN(e.offsetTop)||(t+=e.offsetTop),isNaN(e.offsetLeft)||(n+=e.offsetLeft);while(e=e.offsetParent);return{top:t,left:n}}function o(e,o){var r=e.offsetHeight,a=n(),s=a+t(),c=i(e).top,l=c+r,o=o||0;return s>=c+r*o&&l>=a}function r(){var t,n=Array.prototype.slice.call(document.querySelectorAll("#main svg")),i=new Array,r=!1;n.forEach(function(t,n){var r=new e(t);i[n]=r,setTimeout(function(e){return function(){o(e.parentNode)&&r.render()}}(t),250)});var a=function(){r||(r=!0,setTimeout(function(){s()},60))},s=function(){n.forEach(function(e,t){o(e.parentNode,.5)&&i[t].render()}),r=!1},c=function(){function e(){s(),t=null}t&&clearTimeout(t),t=setTimeout(e,200)};window.addEventListener("scroll",a,!1),window.addEventListener("resize",c,!1)}var a=window.document.documentElement;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),window.cancelAnimFrame=function(){return window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(e){window.clearTimeout(e)}}(),e.prototype.init=function(){var e=this;[].slice.call(this.el.querySelectorAll("path")).forEach(function(t,n){e.path[n]=t;var i=e.path[n].getTotalLength();e.length[n]=i,e.path[n].style.strokeDasharray=i+" "+i,e.path[n].style.strokeDashoffset=i})},e.prototype.render=function(){this.rendered||(this.rendered=!0,this.draw())},e.prototype.draw=function(){var e=this,t=this.current_frame/this.total_frames;if(t>1)window.cancelAnimFrame(this.handle),this.showImage();else{this.current_frame++;for(var n=0,i=this.path.length;i>n;n++)this.path[n].style.strokeDashoffset=Math.floor(this.length[n]*(1-t));this.handle=window.requestAnimFrame(function(){e.draw()})}},e.prototype.showImage=function(){classie.add(this.image,"show"),classie.add(this.el,"hide")},r()}()};